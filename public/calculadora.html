<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appvex - Calculadora</title>
    <!-- CSS Base -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/utilities.css">
    
    <!-- Componentes CSS -->
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/forms.css">
    <link rel="stylesheet" href="css/components/modals.css">
    <link rel="stylesheet" href="css/components/tables.css">
    
    <!-- Correções CSS -->
    <link rel="stylesheet" href="css/card-fixes.css">
    <link rel="stylesheet" href="css/responsive-fixes.css">
    
    <!-- Fontes -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
</head>
<body class="dark-mode">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo-container">
            <h1 class="logo">VEX</h1>
        </div>
        <nav class="sidebar-menu">
            <a href="index.html">
                <i class='bx bxs-dashboard'></i>
                <span>Dashboard</span>
            </a>
            <a href="insumos.html">
                <i class='bx bxs-cube'></i>
                <span>Insumos</span>
            </a>
            <a href="modelos.html">
                <i class='bx bxs-cube-alt'></i>
                <span>Modelos</span>
            </a>
            <a href="producao.html">
                <i class='bx bxs-factory'></i>
                <span>Produção</span>
            </a>
            <a href="estoque.html">
                <i class='bx bxs-box'></i>
                <span>Estoque</span>
            </a>
            <a href="financeiro.html">
                <i class='bx bxs-wallet'></i>
                <span>Financeiro</span>
            </a>
            <a href="relatorios.html">
                <i class='bx bxs-file'></i>
                <span>Relatórios</span>
            </a>
            <a href="calculadora.html" class="active">
                <i class='bx bxs-calculator'></i>
                <span>Calculadora</span>
            </a>
            <a href="configuracoes.html">
                <i class='bx bxs-cog'></i>
                <span>Configurações</span>
            </a>
            <a href="#">
                <i class='bx bxs-help-circle'></i>
                <span>Ajuda & Suporte</span>
            </a>
        </nav>
    </div>

    <!-- Botão de toggle para o sidebar em dispositivos móveis -->
    <button class="sidebar-toggle">
        <i class='bx bx-menu'></i>
    </button>

    <!-- Overlay para o sidebar em dispositivos móveis -->
    <div class="sidebar-overlay"></div>

    <!-- Container Principal -->
    <div class="main-container">
        <!-- Cabeçalho da Página -->
        <div class="page-header">
            <h2 class="page-title">Calculadora de Custos e Preços</h2>
            <div class="page-actions">
                <button class="btn btn-primary" id="saveCalculation">
                    <i class='bx bx-save'></i>
                    Salvar Cálculo
                </button>
            </div>
        </div>

        <!-- Calculadora de Custos -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Cálculo de Custos</h3>
            </div>
            <div class="card-content">
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="modelSelect">Modelo:</label>
                            <select id="modelSelect" class="form-control">
                                <option value="">Selecione um modelo</option>
                                <option value="1">Modelo XYZ</option>
                                <option value="2">Modelo ABC</option>
                                <option value="3">Modelo DEF</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="quantity">Quantidade:</label>
                            <input type="number" id="quantity" class="form-control" value="1" min="1">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Insumos</h3>
                    </div>
                    <div class="card-content">
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Insumo</th>
                                        <th>Quantidade</th>
                                        <th>Valor Unitário</th>
                                        <th>Subtotal</th>
                                    </tr>
                                </thead>
                                <tbody id="insumosTable">
                                    <tr>
                                        <td>Tecido Algodão</td>
                                        <td>2 m</td>
                                        <td>R$ 25,00</td>
                                        <td>R$ 50,00</td>
                                    </tr>
                                    <tr>
                                        <td>Linha Poliéster</td>
                                        <td>1 unid</td>
                                        <td>R$ 5,50</td>
                                        <td>R$ 5,50</td>
                                    </tr>
                                    <tr>
                                        <td>Botões Plásticos</td>
                                        <td>8 unid</td>
                                        <td>R$ 0,25</td>
                                        <td>R$ 2,00</td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" class="text-right"><strong>Total de Insumos:</strong></td>
                                        <td id="totalInsumos"><strong>R$ 57,50</strong></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="laborCost">Custo de Mão de Obra:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="number" id="laborCost" class="form-control" value="30.00" step="0.01">
                            </div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="overheadCost">Custos Indiretos:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="number" id="overheadCost" class="form-control" value="15.00" step="0.01">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="totalCost">Custo Total:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="text" id="totalCost" class="form-control" value="102.50" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="unitCost">Custo Unitário:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="text" id="unitCost" class="form-control" value="102.50" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calculadora de Preços -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Cálculo de Preços</h3>
            </div>
            <div class="card-content">
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="marginPercent">Margem de Lucro (%):</label>
                            <div class="input-group">
                                <input type="number" id="marginPercent" class="form-control" value="50" min="0" max="100">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="taxPercent">Impostos (%):</label>
                            <div class="input-group">
                                <input type="number" id="taxPercent" class="form-control" value="12" min="0" max="100">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="suggestedPrice">Preço Sugerido:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="text" id="suggestedPrice" class="form-control" value="179.38" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="finalPrice">Preço Final:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="number" id="finalPrice" class="form-control" value="179.90" step="0.01">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="actualMargin">Margem Real:</label>
                            <div class="input-group">
                                <input type="text" id="actualMargin" class="form-control" value="50.3%" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="profitAmount">Lucro por Unidade:</label>
                            <div class="input-group">
                                <span class="input-group-text">R$</span>
                                <input type="text" id="profitAmount" class="form-control" value="77.40" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-primary" id="calculateButton">
                    <i class='bx bx-calculator'></i>
                    Calcular
                </button>
                <button class="btn btn-secondary" id="resetButton">
                    <i class='bx bx-reset'></i>
                    Limpar
                </button>
            </div>
        </div>

        <!-- Histórico de Cálculos -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Histórico de Cálculos</h3>
            </div>
            <div class="card-content">
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Modelo</th>
                                <th>Custo</th>
                                <th>Preço</th>
                                <th>Margem</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>25/05/2025</td>
                                <td>Modelo XYZ</td>
                                <td>R$ 102,50</td>
                                <td>R$ 179,90</td>
                                <td>50.3%</td>
                                <td>
                                    <button class="btn btn-icon btn-sm" title="Carregar">
                                        <i class='bx bx-upload'></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm" title="Excluir">
                                        <i class='bx bx-trash'></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>20/05/2025</td>
                                <td>Modelo ABC</td>
                                <td>R$ 45,20</td>
                                <td>R$ 89,90</td>
                                <td>49.7%</td>
                                <td>
                                    <button class="btn btn-icon btn-sm" title="Carregar">
                                        <i class='bx bx-upload'></i>
                                    </button>
                                    <button class="btn btn-icon btn-sm" title="Excluir">
                                        <i class='bx bx-trash'></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/menu.js"></script>
    <script src="js/main.js"></script>
    <script src="js/microinteractions.js"></script>
    <script src="js/calculator.js"></script>
</body>
</html>
